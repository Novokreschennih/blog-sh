---
layout: layouts/base.njk
eleventyNavigation:
  key: Home
  order: 1
---

{# Получаем все посты и переворачиваем, чтобы новые были сверху #}
{% set postslist = collections.posts | reverse %}
{# Первый пост в списке - наш "главный" #}
{% set featuredPost = postslist[0] %}

{# --- БЛОК ДЛЯ ГЛАВНОГО ПОСТА --- #}
{% if featuredPost %}
<section class="featured-post">
  <div class="featured-post-content">
    <span class="featured-tag">Свежая Статья</span>
    <h2><a href="{{ featuredPost.url | url }}">{{ featuredPost.data.title }}</a></h2>
    {% if featuredPost.data.description %}
      <p>{{ featuredPost.data.description }}</p>
    {% endif %}
  </div>
</section>
{% endif %}


{# --- СЕТКА ОСТАЛЬНЫХ ПОСТОВ --- #}
<h2 class="section-title">Остальные Статьи</h2>

<ol reversed class="postlist" style="list-style: none; padding: 0;">
{# Перебираем все посты, ПРОПУСКАЯ первый (с помощью фильтра slice) #}
{%- for post in postslist | slice(1) -%}
  <li class="postlist-item">
    <a href="{{ post.url | url }}" class="postlist-link">
      <h2>{{ post.data.title }}</h2>
      {% if post.data.description %}
        <p class="postlist-excerpt">{{ post.data.description }}</p>
      {% else %}
        {# Добавляем текст по умолчанию, если у поста нет описания #}
        <p class="postlist-excerpt">Читать далее...</p>
      {% endif %}
    </a>
  </li>
{%- endfor -%}
</ol>
